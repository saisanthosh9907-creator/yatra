<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Trip Cost Estimator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  body{
    margin:0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg,#0f172a,#1e293b);
    color:#fff;
    text-align:center;
  }

  h1{
    margin:20px 0;
  }

  .card{
    background:#0b1220;
    width:330px;
    margin:20px auto;
    padding:20px;
    border-radius:14px;
    box-shadow:0 10px 30px rgba(0,0,0,.4);
  }

  input,button{
    width:100%;
    padding:12px;
    margin:8px 0;
    border:none;
    border-radius:8px;
    font-size:14px;
  }

  input{
    background:#1e293b;
    color:#fff;
  }

  button{
    background:#22c55e;
    font-weight:bold;
    cursor:pointer;
  }

  button:hover{
    background:#16a34a;
  }

  #map{
    height:400px;
    width:95%;
    margin:20px auto;
    border-radius:14px;
  }

  #output{
    background:#0b1220;
    width:90%;
    max-width:500px;
    margin:20px auto;
    padding:15px;
    border-radius:14px;
  }
</style>
</head>

<body>

<h1>ðŸš— Trip Cost Estimator</h1>

<div class="card">
  <input id="origin" placeholder="Enter origin city">
  <input id="destination" placeholder="Enter destination city">
  <input id="fuelPrice" type="number" placeholder="Fuel price per litre (â‚¹)">
  <input id="mileage" type="number" placeholder="Mileage (km/l)">
  <button onclick="calculateTrip()">Calculate Trip</button>
</div>

<div id="map"></div>

<div id="output">Trip details will appear here</div>

<!-- GOOGLE MAPS -->
<script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&libraries=places"></script>

<script>
let map, directionsService, directionsRenderer;

function initMap(){
  map = new google.maps.Map(document.getElementById("map"),{
    zoom:6,
    center:{lat:20.5937,lng:78.9629}
  });

  directionsService = new google.maps.DirectionsService();
  directionsRenderer = new google.maps.DirectionsRenderer({map});

  new google.maps.places.Autocomplete(document.getElementById("origin"));
  new google.maps.places.Autocomplete(document.getElementById("destination"));
}

window.onload = initMap;

async function calculateTrip(){
  const origin = document.getElementById("origin").value;
  const destination = document.getElementById("destination").value;
  const fuelPrice = parseFloat(document.getElementById("fuelPrice").value);
  const mileage = parseFloat(document.getElementById("mileage").value);

  if(!origin || !destination || !fuelPrice || !mileage){
    alert("Please fill all fields");
    return;
  }

  directionsService.route({
    origin:origin,
    destination:destination,
    travelMode:"DRIVING"
  }, async (result,status)=>{
    if(status === "OK"){
      directionsRenderer.setDirections(result);

      const distanceKm = result.routes[0].legs[0].distance.value / 1000;
      const fuelUsed = distanceKm / mileage;
      const fuelCost = fuelUsed * fuelPrice;

      const weather = await getWeather(destination);

      document.getElementById("output").innerHTML = `
        <h3>Trip Summary</h3>
        <p><b>Distance:</b> ${distanceKm.toFixed(2)} km</p>
        <p><b>Fuel Cost:</b> â‚¹${fuelCost.toFixed(2)}</p>
        <p><b>Weather:</b> ${weather}</p>
      `;
    }else{
      alert("Route not found");
    }
  });
}

async function getWeather(city){
  const apiKey = "YOUR_OPENWEATHER_API_KEY";
  const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`;
  const res = await fetch(url);
  const data = await res.json();
  return `${data.weather[0].description}, ${data.main.temp}Â°C`;
}
</script>

</body>
</html>
